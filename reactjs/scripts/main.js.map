{"version":3,"sources":["main.jsx"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["(function(){\n  'use strict';\n\n  var App = {};\n\n  App.CommentBox = React.createClass({\n    getInitialState: function() {\n      return {data: []};\n    },\n    componentDidMount: function() {\n      $.ajax({\n        url: this.props.url,\n        dataType: 'json',\n        cache: false,\n        success: function(result) {\n          this.setState({data: result.data });\n        }.bind(this),\n        error: function(xhr, status, err) {\n          console.error(this.props.url, status, err.toString());\n        }.bind(this)\n      });\n    },\n\n    handleCommentSubmit: function(comment) {\n      var comments = this.state.data,\n        newComments = comments.concat([comment]);\n\n      this.setState({data: newComments});\n    },\n\n    render: function() {\n      return (\n        <div className=\"comment-box\">\n          <h1>Coment√°rios React</h1>\n          <App.CommentList data={this.state.data} />\n          <App.CommentForm onCommentSubmit={this.handleCommentSubmit} />\n        </div>\n      );\n    }\n  });\n\n  App.CommentList = React.createClass({\n    render: function() {\n      var commentNodes = this.props.data.map(function (message) {\n        return (\n          <App.SingleCommit author={message.name}>\n            {message.comment}\n          </App.SingleCommit>\n        );\n      });\n      return (\n        <div className=\"comment-list\">\n          {commentNodes}\n        </div>\n      );\n    }\n  });\n\n  App.CommentForm = React.createClass({\n\n    handleSubmit: function(e) {\n      e.preventDefault();\n      var name = this.refs.name.value.trim(),\n        comment = this.refs.comment.value.trim();\n\n      if (!name || !comment) {\n        return;\n      }\n      // Send the new data, update the comments entry, erase the form data\n      this.props.onCommentSubmit({name: name, comment: comment});\n      this.refs.name.value = '';\n      this.refs.comment.value = '';\n      return;\n    },\n\n    render: function() {\n      return (\n        <form className=\"commentForm\" onSubmit={this.handleSubmit}>\n          <input ref=\"name\" type=\"text\" placeholder=\"Nome\" />\n          <textarea ref=\"comment\" placeholder=\"Comentario\"></textarea>\n          <button type=\"submit\">Enviar</button>\n        </form>\n      );\n    }\n  });\n\n  App.SingleCommit = React.createClass({\n    removeItem: function() {\n      // FIX ME, unmount do react not working here\n      var elem = this.getDOMNode();\n      elem.parentNode.removeChild(elem);\n    },\n    render: function() {\n      return (\n        <div className=\"comment\">\n          <h2 className=\"commentAuthor\">\n            {this.props.author}\n          </h2>\n          <p>{this.props.children}</p>\n          <button onClick={this.removeItem}>Remover</button>\n        </div>\n      );\n    }\n  });\n\n  ReactDOM.render(\n    <App.CommentBox url='/json/comments.json' />,\n    document.getElementById('content')\n  );\n\n})(window);"]}